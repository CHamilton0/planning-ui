<h1>Day editor</h1>

<mat-form-field>
  <mat-label>Choose a date</mat-label>
  <input matInput [matDatepicker]="picker" [formControl]="date" />
  <mat-hint>MM/DD/YYYY</mat-hint>
  <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
  <mat-datepicker #picker></mat-datepicker>
</mat-form-field>

<form [formGroup]="myForm">
  <div formArrayName="formGroups">
    <div
      *ngFor="let group of formGroups.controls; let i = index"
      [formGroupName]="i"
    >
      <mat-form-field>
        <mat-label>Task</mat-label>
        <select matNativeControl formControlName="name">
          <option
            *ngFor="let option of options"
            [value]="option"
            [disabled]="selectedOptions.includes(option)"
          >
            {{ option }}
          </option>
        </select>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Hours</mat-label>
        <input matInput type="number" formControlName="hours" />
      </mat-form-field>
      <button (click)="deleteFormGroup(i)">X</button>
    </div>
  </div>
  <button
    (click)="addFormGroup()"
    [disabled]="myForm.invalid && formGroups.controls.length > 0"
  >
    Add Form Group
  </button>
</form>
